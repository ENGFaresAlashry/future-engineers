<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Future Engineers – Spring Mass Simulation</title>

<style>
body {
  margin: 0;
  background: black;
  color: #00ccff;
  font-family: Arial, sans-serif;
  text-align: center;
}

h1 {
  margin-top: 20px;
}

#controls {
  margin: 20px;
}

button {
  background: #00ccff;
  color: black;
  border: none;
  padding: 12px 25px;
  margin: 10px;
  font-size: 16px;
  border-radius: 20px;
  cursor: pointer;
}

canvas {
  background: #111;
  display: block;
  margin: auto;
}
</style>
</head>

<body>

<h1>FUTURE ENGINEERS – Spring Mass Simulation</h1>

<div id="controls">
  <button onclick="startSim()">Start</button>
  <button onclick="stopSim()">Stop</button>
</div>

<canvas id="simCanvas" width="800" height="500"></canvas>

<script>
const canvas = document.getElementById("simCanvas");
const ctx = canvas.getContext("2d");

let running = false;

// Physics constants
const m = 0.2;
const k = 15;
const g = 9.8;
const L0 = 150;
const dt = 0.02;

// State variables
let y = 200;
let v = 0;
const ceilingY = 50;

function drawSpring(x1, y1, x2, y2) {
  ctx.strokeStyle = "yellow";
  ctx.lineWidth = 3;
  ctx.beginPath();
  ctx.moveTo(x1, y1);
  ctx.lineTo(x2, y2);
  ctx.stroke();
}

function draw() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);

  // Ceiling
  ctx.fillStyle = "white";
  ctx.fillRect(370, ceilingY - 10, 60, 10);

  // Spring
  drawSpring(400, ceilingY, 400, y);

  // Mass
  ctx.fillStyle = "red";
  ctx.beginPath();
  ctx.arc(400, y + 20, 20, 0, Math.PI * 2);
  ctx.fill();
}

function update() {
  if (!running) return;

  let L = y - ceilingY;
  let Fspring = -k * (L - L0);
  let a = (Fspring - m * g * 30) / m;

  v += a * dt;
  y += v * dt;

  draw();
  requestAnimationFrame(update);
}

function startSim() {
  if (!running) {
    running = true;
    update();
  }
}

function stopSim() {
  running = false;
}

draw();
</script>

</body>
</html>
