<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Future Engineers – Spring Mass Simulation</title>

<style>
body {
  margin: 0;
  font-family: "Segoe UI", Arial, sans-serif;
  background: radial-gradient(circle at top, #111 0%, #000 70%);
  color: white;
}

header {
  text-align: center;
  padding: 30px;
}

header h1 {
  color: #00e5ff;
  font-size: 36px;
  letter-spacing: 2px;
}

header p {
  color: #aaa;
}

.controls {
  text-align: center;
}

button {
  background: linear-gradient(135deg, #00e5ff, #0077ff);
  border: none;
  padding: 12px 30px;
  margin: 10px;
  border-radius: 30px;
  font-size: 16px;
  cursor: pointer;
  box-shadow: 0 0 20px #00e5ff66;
}

canvas {
  display: block;
  margin: 25px auto;
  background: #050505;
  border-radius: 15px;
  box-shadow: 0 0 30px #00e5ff22;
}
</style>
</head>

<body>

<header>
  <h1>FUTURE ENGINEERS</h1>
  <p>Spring–Mass Oscillation | Interactive Physics Lab</p>
</header>

<div class="controls">
  <button onclick="startSim()">Start</button>
  <button onclick="stopSim()">Stop</button>
</div>

<canvas id="simCanvas" width="900" height="350"></canvas>
<canvas id="posGraph" width="900" height="200"></canvas>
<canvas id="velGraph" width="900" height="200"></canvas>
<canvas id="energyGraph" width="900" height="200"></canvas>

<script>
/* ========= CONSTANTS ========= */
const m = 0.06;
const k = 8;
const L0 = 0.20;
const g = 9.8;
const dt = 0.02;

/* ========= STATE ========= */
let x = 0.10;
let v = 0;
let running = false;
let timer;

/* ========= DATA ========= */
let pos = [], vel = [], energy = [];

/* ========= CONTEXTS ========= */
const sim = simCanvas.getContext("2d");
const pCtx = posGraph.getContext("2d");
const vCtx = velGraph.getContext("2d");
const eCtx = energyGraph.getContext("2d");

/* ========= DRAW SIM ========= */
function drawSim() {
  sim.clearRect(0,0,900,350);

  sim.fillStyle="white";
  sim.fillRect(420,20,60,10);

  sim.strokeStyle="yellow";
  sim.lineWidth=4;
  sim.beginPath();
  sim.moveTo(450,30);
  sim.lineTo(450,30+x*600);
  sim.stroke();

  sim.fillStyle="red";
  sim.beginPath();
  sim.arc(450,30+x*600+20,20,0,Math.PI*2);
  sim.fill();
}

/* ========= GRAPH UTIL ========= */
function drawGraph(ctx,title,yLabel,data,color,scale,centered=true){
  ctx.clearRect(0,0,900,200);

  const left=70, top=40, height=120, mid=top+height/2;

  ctx.strokeStyle="#444";
  ctx.beginPath();
  ctx.moveTo(left,top);
  ctx.lineTo(left,top+height);
  ctx.lineTo(880,top+height);
  ctx.stroke();

  ctx.fillStyle="#00e5ff";
  ctx.font="16px Arial";
  ctx.fillText(title,left+10,25);

  ctx.fillStyle="#aaa";
  ctx.font="13px Arial";
  ctx.fillText(yLabel,10,55);
  ctx.fillText("Time (s)",820,185);

  if(centered){
    ctx.strokeStyle="#333";
    ctx.beginPath();
    ctx.moveTo(left,mid);
    ctx.lineTo(880,mid);
    ctx.stroke();
  }

  ctx.strokeStyle=color;
  ctx.lineWidth=2;
  ctx.beginPath();
  data.forEach((d,i)=>{
    const x=left+i*3;
    const y=centered ? mid-d*scale : top+height-d*scale;
    if(i===0) ctx.moveTo(x,y);
    else ctx.lineTo(x,y);
  });
  ctx.stroke();
}

/* ========= UPDATE ========= */
function update(){
  const F=-k*(x-L0)+m*g;
  const a=F/m;

  v+=a*dt;
  x+=v*dt;

  pos.push(x-L0);
  vel.push(v);
  energy.push(0.5*m*v*v+0.5*k*(x-L0)**2);

  if(pos.length>250){
    pos.shift();vel.shift();energy.shift();
  }

  drawSim();
  drawGraph(pCtx,"Position vs Time","Position (m)",pos,"#00e5ff",800);
  drawGraph(vCtx,"Velocity vs Time","Velocity (m/s)",vel,"#ff3333",60);
  drawGraph(eCtx,"Total Energy vs Time","Energy (J)",energy,"#00ff88",2500,false);
}

/* ========= CONTROLS ========= */
function startSim(){
  if(!running){
    running=true;
    timer=setInterval(update,20);
  }
}
function stopSim(){
  running=false;
  clearInterval(timer);
}

drawSim();
</script>

</body>
</html>
